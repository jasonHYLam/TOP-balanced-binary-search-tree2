(()=>{"use strict";function s(t){if(1===t.length)return t;{const e=Math.ceil(t.length/2);let h=s(t.slice(0,e)),o=s(t.slice(e)),i=[];for(;h[0]||o[0];)h[0]<o[0]?(i.push(h[0]),h.shift()):o[0]<h[0]?(i.push(o[0]),o.shift()):h[0]==o[0]?(i.push(h[0]),i.push(o[0]),h.shift(),o.shift()):h[0]?o[0]||(i.push(h[0]),h.shift()):(i.push(o[0]),o.shift());return i}}const t=[1,7,4,23,8,9,4,3,5,7,9,67,6345,324];var e;console.log(t),e=t,console.log(e),s(e),console.log(newTree)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQU8sU0FBU0EsRUFBVUMsR0FDdEIsR0FBcUIsSUFBakJBLEVBQU1DLE9BQWMsT0FBT0QsRUFDMUIsQ0FDRCxNQUFNRSxFQUFPQyxLQUFLQyxLQUFLSixFQUFNQyxPQUFPLEdBSXBDLElBQUlJLEVBQWlCTixFQUZKQyxFQUFNTSxNQUFNLEVBQUdKLElBTTVCSyxFQUFrQlIsRUFGSkMsRUFBTU0sTUFBTUosSUFLMUJNLEVBQWMsR0FDbEIsS0FBT0gsRUFBZSxJQUFNRSxFQUFnQixJQUVwQ0YsRUFBZSxHQUFLRSxFQUFnQixJQUNwQ0MsRUFBWUMsS0FBS0osRUFBZSxJQUNoQ0EsRUFBZUssU0FDUkgsRUFBZ0IsR0FBS0YsRUFBZSxJQUMzQ0csRUFBWUMsS0FBS0YsRUFBZ0IsSUFDakNBLEVBQWdCRyxTQUdUTCxFQUFlLElBQU1FLEVBQWdCLElBQzVDQyxFQUFZQyxLQUFLSixFQUFlLElBQ2hDRyxFQUFZQyxLQUFLRixFQUFnQixJQUNqQ0YsRUFBZUssUUFDZkgsRUFBZ0JHLFNBRVJMLEVBQWUsR0FHZkUsRUFBZ0IsS0FDeEJDLEVBQVlDLEtBQUtKLEVBQWUsSUFDaENBLEVBQWVLLFVBSmZGLEVBQVlDLEtBQUtGLEVBQWdCLElBQ2pDQSxFQUFnQkcsU0FNeEIsT0FBT0YsQ0FDWCxDQUNKLENDckNBLE1BQU1HLEVBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxLQUFNLEtDNE94RCxJQUFtQlgsRUQxTzFCWSxRQUFRQyxJQUFJRixHQzBPY1gsRUR4T2hCVyxFQ3lPTkMsUUFBUUMsSUFBSWIsR0FDVUQsRUFBVUMsR0R4T3BDWSxRQUFRQyxJQUFJQyxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9wLWJhbGFuY2VkLWJpbmFyeS1zZWFyY2gtdHJlZTIvLi9zcmMvbWVyZ2VTb3J0LmpzIiwid2VicGFjazovL3RvcC1iYWxhbmNlZC1iaW5hcnktc2VhcmNoLXRyZWUyLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvcC1iYWxhbmNlZC1iaW5hcnktc2VhcmNoLXRyZWUyLy4vc3JjL0JTVC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gbWVyZ2VTb3J0KGFycmF5KSB7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMSkgcmV0dXJuIGFycmF5O1xuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBoYWxmID0gTWF0aC5jZWlsKGFycmF5Lmxlbmd0aC8yKVxuICAgICAgICAvLyBzcGxpdCBhcnJheSBpbiBoYWxmXG4gICAgICAgIGNvbnN0IGxlZnRIYWxmID0gYXJyYXkuc2xpY2UoMCwgaGFsZilcbiAgICAgICAgLy8gY2FsbCBtZXJnZVNvcnQgb24gdGhlIGxlZnQgaGFsZlxuICAgICAgICBsZXQgc29ydGVkTGVmdEhhbGYgPSBtZXJnZVNvcnQobGVmdEhhbGYpXG5cbiAgICAgICAgY29uc3QgcmlnaHRIYWxmID0gYXJyYXkuc2xpY2UoaGFsZilcbiAgICAgICAgLy8gY2FsbCBtZXJnZVNvcnQgb24gdGhlIHJpZ2h0IGhhbGZcbiAgICAgICAgbGV0IHNvcnRlZFJpZ2h0SGFsZiA9IG1lcmdlU29ydChyaWdodEhhbGYpO1xuXG4gICAgICAgIC8vZm9yIGVhY2ggZWxlbWVudCBpbiBsZWZ0IGhhbGYgYW5kIHJpZ2h0IGhhbGYsIHNlZSB3aGljaCBpcyBzbWFsbGVyXG4gICAgICAgIGxldCBtZXJnZWRBcnJheSA9IFtdO1xuICAgICAgICB3aGlsZSAoc29ydGVkTGVmdEhhbGZbMF0gfHwgc29ydGVkUmlnaHRIYWxmWzBdKSB7XG4gICAgICAgICAgICAvLyBpZiAoc29ydGVkTGVmdEhhbGZbMV0gPCBzb3J0ZWRSaWdodEhhbGZbMF0pIHsgaXMgdGhpcyB3cm9uZz9cbiAgICAgICAgICAgIGlmIChzb3J0ZWRMZWZ0SGFsZlswXSA8IHNvcnRlZFJpZ2h0SGFsZlswXSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZEFycmF5LnB1c2goc29ydGVkTGVmdEhhbGZbMF0pXG4gICAgICAgICAgICAgICAgc29ydGVkTGVmdEhhbGYuc2hpZnQoKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3J0ZWRSaWdodEhhbGZbMF0gPCBzb3J0ZWRMZWZ0SGFsZlswXSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZEFycmF5LnB1c2goc29ydGVkUmlnaHRIYWxmWzBdKVxuICAgICAgICAgICAgICAgIHNvcnRlZFJpZ2h0SGFsZi5zaGlmdCgpXG5cbiAgICAgICAgICAgICAgICAvLyBlZGdlIGNhc2Ugd2hlcmUgdGhlIHNhbWUgbnVtYmVyIGlzIGJlaW5nIGNvbXBhcmVkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvcnRlZExlZnRIYWxmWzBdID09IHNvcnRlZFJpZ2h0SGFsZlswXSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZEFycmF5LnB1c2goc29ydGVkTGVmdEhhbGZbMF0pXG4gICAgICAgICAgICAgICAgbWVyZ2VkQXJyYXkucHVzaChzb3J0ZWRSaWdodEhhbGZbMF0pXG4gICAgICAgICAgICAgICAgc29ydGVkTGVmdEhhbGYuc2hpZnQoKVxuICAgICAgICAgICAgICAgIHNvcnRlZFJpZ2h0SGFsZi5zaGlmdCgpXG4gICAgICAgICAgICAgICAgLy8gZWRnZSBjYXNlIHdoZXJlIG9uZSBhcnJheSBpcyBlbXB0eVxuICAgICAgICAgICAgfSBlbHNlIGlmICghc29ydGVkTGVmdEhhbGZbMF0pIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRBcnJheS5wdXNoKHNvcnRlZFJpZ2h0SGFsZlswXSlcbiAgICAgICAgICAgICAgICBzb3J0ZWRSaWdodEhhbGYuc2hpZnQoKVxuICAgICAgICAgICAgfSBlbHNlIGlmICghc29ydGVkUmlnaHRIYWxmWzBdKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkQXJyYXkucHVzaChzb3J0ZWRMZWZ0SGFsZlswXSlcbiAgICAgICAgICAgICAgICBzb3J0ZWRMZWZ0SGFsZi5zaGlmdCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXJnZWRBcnJheTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVHJlZSB9IGZyb20gXCIuL0JTVFwiO1xuaW1wb3J0IHsgYnVpbGRUcmVlIH0gZnJvbSBcIi4vQlNUXCI7XG5pbXBvcnQgeyBwcmV0dHlQcmludCB9IGZyb20gXCIuL3ByZXR0eVByaW50XCI7XG5cbmNvbnN0IHRlc3RBcnJheSA9IFsxLCA3LCA0LCAyMywgOCwgOSwgNCwgMywgNSwgNywgOSwgNjcsIDYzNDUsIDMyNF1cblxuY29uc29sZS5sb2codGVzdEFycmF5KVxuXG5idWlsZFRyZWUodGVzdEFycmF5KVxuLy8gbGV0IG5ld1RyZWUgPSBuZXcgVHJlZSh0ZXN0QXJyYXkpXG5jb25zb2xlLmxvZyhuZXdUcmVlKVxuLy8gcHJldHR5UHJpbnQobmV3VHJlZS5yb290KVxuXG4vLyBuZXdUcmVlLmluc2VydCg5KVxuLy8gcHJldHR5UHJpbnQobmV3VHJlZS5yb290KVxuXG4vLyBuZXdUcmVlLmRlbGV0ZSgzMjMpXG4vLyBwcmV0dHlQcmludChuZXdUcmVlLnJvb3QpXG5cbi8vIG5ld1RyZWUuZmluZCg2KVxuLy8gbmV3VHJlZS5maW5kKDEpXG5cbi8vIC8vIG5ld1RyZWUubGV2ZWxPcmRlckl0ZXJhdGl2ZSgobm9kZSkgPT4gY29uc29sZS5sb2cobm9kZSkpXG5cbi8vIG5ld1RyZWUucHJlT3JkZXIoKVxuXG4vLyBuZXdUcmVlLnByZU9yZGVyKChub2RlKT0+IGNvbnNvbGUubG9nKG5vZGUuZGF0YSkpXG5cbi8vIG5ld1RyZWUuaW5PcmRlcigobm9kZSk9PmNvbnNvbGUubG9nKG5vZGUuZGF0YSkpXG5cbi8vIG5ld1RyZWUucG9zdE9yZGVyKClcblxuLy8gbmV3VHJlZS5oZWlnaHQoNSkiLCIvLyBpbXBvcnQgeyBub2RlIH0gZnJvbSBcIndlYnBhY2tcIjtcbmltcG9ydCB7IG1lcmdlU29ydCB9IGZyb20gXCIuL21lcmdlU29ydFwiO1xuXG5pbXBvcnQgeyBwcmV0dHlQcmludCB9IGZyb20gXCIuL3ByZXR0eVByaW50XCI7XG5cbmNsYXNzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGF0YT0gdmFsdWU7XG4gICAgICAgIHRoaXMubGVmdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmlnaHQgPSBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihhcnJheSkge1xuICAgICAgICB0aGlzLnJvb3QgPSBidWlsZFRyZWUoYXJyYXkpO1xuICAgIH1cblxuXG4gICAgLy8gaW5zZXJ0KHZhbHVlKSB7XG4gICAgLy8gICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUsIHZhbHVlKSB7XG4gICAgLy8gICAgICAgICBpZiAodmFsdWUgPCBub2RlLmRhdGEgJiYgbm9kZS5sZWZ0ID09IG51bGwpIHtcbiAgICAvLyAgICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUodmFsdWUpO1xuICAgIC8vICAgICAgICAgICAgIG5vZGUubGVmdCA9IG5ld05vZGU7XG5cbiAgICAvLyAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiBub2RlLmRhdGEgJiYgbm9kZS5yaWdodCA9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKHZhbHVlKTtcbiAgICAvLyAgICAgICAgICAgICBub2RlLnJpZ2h0ID0gbmV3Tm9kZTtcblxuICAgIC8vICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IG5vZGUuZGF0YSkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVGdW5jdGlvbihub2RlLmxlZnQsIHZhbHVlKVxuXG4gICAgLy8gICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID4gbm9kZS5kYXRhKSB7XG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUucmlnaHQsIHZhbHVlKVxuXG4gICAgLy8gICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IG5vZGUuZGF0YSkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidmFsdWUgYWxyZWFkeSBpbiB0cmVlLCB0cnkgYW5vdGhlciB2YWx1ZVwiKVxuICAgIC8vICAgICAgICAgICAgIHJldHVyblxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJlY3Vyc2l2ZUZ1bmN0aW9uKHRoaXMucm9vdCwgdmFsdWUpXG4gICAgLy8gfVxuXG4gICAgLy8gZGVsZXRlKHZhbHVlKSB7XG4gICAgLy8gICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUsIHZhbHVlKSB7XG4gICAgLy8gICAgICAgICAvLyB0aGlzIGNvZGUgcmVxdWlyZXMgZ3VhcmQgY2xhdXNlOiBpZihub2RlLmxlZnQpLCBvciBpZihub2RlLnJpZ2h0KVxuICAgIC8vICAgICAgICAgLy8gY29uc2lkZXIgYXQgbGVhc3QgNCBjYXNlc1xuICAgIC8vICAgICAgICAgLy8gQ2FzZSAxOiBkZWxldGluZyB0aGUgbGVhZiBub2RlXG4gICAgLy8gICAgICAgICBpZiAobm9kZS5sZWZ0ICYmIG5vZGUubGVmdC5kYXRhID09PSB2YWx1ZSAmJiBub2RlLmxlZnQubGVmdCA9PT0gbnVsbCAmJiBub2RlLmxlZnQucmlnaHQgPT09IG51bGwpIHtcbiAgICAvLyAgICAgICAgICAgICBub2RlLmxlZnQgPSBudWxsO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZWxzZSBpZiAobm9kZS5yaWdodCAmJiBub2RlLnJpZ2h0LmRhdGEgPT09IHZhbHVlICYmIG5vZGUucmlnaHQubGVmdCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0LnJpZ2h0ID09PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgbm9kZS5yaWdodCA9IG51bGw7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICAvLyBDYXNlIDI6IGRlbGV0aW5nIGEgYnJhbmNoIG5vZGUgd2l0aCBvbmUgbGVhZjsgcG9pbnQgdGhlIHByZWNlZGluZyBjaGlsZCB0byB0aGUgMm5kIGZvbGxvd2luZyBjaGlsZFxuICAgIC8vICAgICAgICAgZWxzZSBpZiAobm9kZS5sZWZ0ICYmIG5vZGUubGVmdC5kYXRhID09PSB2YWx1ZSAmJiBub2RlLmxlZnQubGVmdCAhPT0gbnVsbCAmJiBub2RlLmxlZnQubGVmdC5sZWZ0ID09PSBudWxsIFxuICAgIC8vICAgICAgICAgICAgICYmIG5vZGUubGVmdC5sZWZ0LnJpZ2h0ID09PSBudWxsICYmIG5vZGUubGVmdC5yaWdodCA9PT0gbnVsbCkge1xuICAgIC8vICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBub2RlLmxlZnQubGVmdFxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZWxzZSBpZiAobm9kZS5sZWZ0ICYmIG5vZGUubGVmdC5kYXRhID09PSB2YWx1ZSAmJiBub2RlLmxlZnQucmlnaHQgIT09IG51bGwgJiYgbm9kZS5sZWZ0LnJpZ2h0LmxlZnQgPT09IG51bGwgXG4gICAgLy8gICAgICAgICAgICAgJiYgbm9kZS5sZWZ0LnJpZ2h0LnJpZ2h0ID09PSBudWxsICYmIG5vZGUubGVmdC5sZWZ0ID09PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIG5vZGUubGVmdCA9IG5vZGUubGVmdC5yaWdodFxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZWxzZSBpZiAobm9kZS5yaWdodCAmJiBub2RlLnJpZ2h0LmRhdGEgPT09IHZhbHVlICYmIG5vZGUucmlnaHQubGVmdCAhPT0gbnVsbCAmJiBub2RlLnJpZ2h0LmxlZnQubGVmdCA9PT0gbnVsbCBcbiAgICAvLyAgICAgICAgICAgICAmJiBub2RlLnJpZ2h0LmxlZnQucmlnaHQgPT09IG51bGwgJiYgbm9kZS5yaWdodC5yaWdodCA9PT0gbnVsbCkge1xuICAgIC8vICAgICAgICAgICAgICAgICBub2RlLnJpZ2h0ID0gbm9kZS5yaWdodC5sZWZ0XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBlbHNlIGlmIChub2RlLnJpZ2h0ICYmIG5vZGUucmlnaHQuZGF0YSA9PT0gdmFsdWUgJiYgbm9kZS5yaWdodC5yaWdodCAhPT0gbnVsbCAmJiBub2RlLnJpZ2h0LnJpZ2h0LmxlZnQgPT09IG51bGwgXG4gICAgLy8gICAgICAgICAgICAgJiYgbm9kZS5yaWdodC5yaWdodC5yaWdodCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0LmxlZnQgPT09IG51bGwpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5vZGUucmlnaHQucmlnaHRcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIC8vIFRPRE86IGVkZ2UgY2FzZSB3aGVyZSByb290IGlzIGhhcyBvbmUgbGVhZiAodHdvIG5vZGVzIG9ubHkgaW4gdGhlIHRyZWUpXG4gICAgLy8gICAgICAgICAvLyByZXF1aXJlcyBjaGVja2luZyBpZiBub2RlIGlzIHJvb3QsIGFuZCBjaGVja2luZyBpZiBpdCBvbmx5IGhhcyBvbmUgbGVhZlxuXG4gICAgLy8gICAgICAgICAvLyBDYXNlIDM6IGRlbGV0aW5nIGEgYnJhbmNoIHdpdGggYm90aCBsZWF2ZXM7IGdldCB0aGUgbmV4dCByaWdodCwgdGhlbiBsZWZ0bW9zdCBpIHRoaW5rXG4gICAgLy8gICAgICAgICBlbHNlIGlmIChub2RlLmRhdGEgPT09IHZhbHVlICYmIG5vZGUubGVmdCAhPT0gbnVsbCAmJiBub2RlLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgbGV0IHRlbXAgPSBub2RlLnJpZ2h0O1xuICAgIC8vICAgICAgICAgICAgIGxldCB0ZW1wUGFyZW50ID0gdGVtcDtcbiAgICAvLyAgICAgICAgICAgICB3aGlsZSAodGVtcC5sZWZ0ICE9PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHRlbXBQYXJlbnQgPSB0ZW1wO1xuICAgIC8vICAgICAgICAgICAgICAgICB0ZW1wID0gdGVtcC5sZWZ0O1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICBub2RlLmRhdGEgPSB0ZW1wLmRhdGE7XG4gICAgLy8gICAgICAgICAgICAgdGVtcFBhcmVudC5sZWZ0ID0gbnVsbDtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIC8vIENhc2UgNDogY29uc29sZSBsb2cgaWYgdGhlIHZhbHVlIGlzbid0IGZvdW5kXG4gICAgLy8gICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IG5vZGUuZGF0YSAmJiBub2RlLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dmFsdWV9IG5vdCBmb3VuZCwgcGxlYXNlIHRyeSBhZ2FpbmApO1xuICAgIC8vICAgICAgICAgICAgIHJldHVybjtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGVsc2UgaWYgKHZhbHVlIDwgbm9kZS5kYXRhICYmIG5vZGUubGVmdCA9PT0gbnVsbCkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3ZhbHVlfSBub3QgZm91bmQsIHBsZWFzZSB0cnkgYWdhaW5gKTtcbiAgICAvLyAgICAgICAgICAgICByZXR1cm47XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IG5vZGUuZGF0YSkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVGdW5jdGlvbihub2RlLmxlZnQsIHZhbHVlKVxuICAgIC8vICAgICAgICAgfSBlbHNlIGlmICggdmFsdWUgPiBub2RlLmRhdGEpIHtcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlRnVuY3Rpb24obm9kZS5yaWdodCwgdmFsdWUpXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmVjdXJzaXZlRnVuY3Rpb24odGhpcy5yb290LCB2YWx1ZSlcbiAgICAvLyB9XG5cbiAgICAvLyBmaW5kKHZhbHVlKSB7XG4gICAgLy8gICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUsIHZhbHVlKSB7XG4gICAgLy8gICAgICAgICBpZiAobm9kZS5kYXRhID09PSB2YWx1ZSkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5vZGUpXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICAvLyBjaGVjayBpZiB0aGUgdmFsdWUgZXhpc3RzIGF0IGxlYWYgb3IgdGhlIGxlYWYgcGFyZW50c1xuICAgIC8vICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiBub2RlLmRhdGEgJiYgbm9kZS5yaWdodCA9PT0gbnVsbCkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3ZhbHVlfSBub3QgZm91bmRgKVxuICAgIC8vICAgICAgICAgICAgIHJldHVyblxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZWxzZSBpZiAodmFsdWUgPCBub2RlLmRhdGEgJiYgbm9kZS5sZWZ0ID09PSBudWxsKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dmFsdWV9IG5vdCBmb3VuZGApXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IG5vZGUuZGF0YSkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVGdW5jdGlvbihub2RlLnJpZ2h0LCB2YWx1ZSk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IG5vZGUuZGF0YSkge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVGdW5jdGlvbihub2RlLmxlZnQsIHZhbHVlKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZWN1cnNpdmVGdW5jdGlvbih0aGlzLnJvb3QsIHZhbHVlKVxuICAgIC8vIH1cblxuICAgIC8vIGxldmVsT3JkZXJJdGVyYXRpdmUoaGVscGVyRnVuY3Rpb24pIHtcbiAgICAvLyAgICAgbGV0IHF1ZXVlID0gW11cbiAgICAvLyAgICAgcXVldWUucHVzaCh0aGlzLnJvb3QpXG4gICAgLy8gICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggIT09IDApIHtcbiAgICAvLyAgICAgICAgIGhlbHBlckZ1bmN0aW9uKHF1ZXVlWzBdKVxuICAgIC8vICAgICAgICAgaWYgKHF1ZXVlWzBdLmxlZnQpIHF1ZXVlLnB1c2gocXVldWVbMF0ubGVmdClcbiAgICAvLyAgICAgICAgIGlmIChxdWV1ZVswXS5yaWdodCkgcXVldWUucHVzaChxdWV1ZVswXS5yaWdodClcbiAgICAvLyAgICAgICAgIHF1ZXVlLnNoaWZ0KClcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIHByZU9yZGVyKGhlbHBlckZ1bmN0aW9uKSB7XG4gICAgLy8gICAgIGlmIChoZWxwZXJGdW5jdGlvbikge1xuICAgIC8vICAgICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlRnVuY3Rpb24obm9kZSkge1xuICAgIC8vICAgICAgICAgICAgIGhlbHBlckZ1bmN0aW9uKG5vZGUpXG4gICAgLy8gICAgICAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0ID09PSBudWxsKSByZXR1cm5cbiAgICAvLyAgICAgICAgICAgICBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdCkgcmVjdXJzaXZlRnVuY3Rpb24obm9kZS5sZWZ0KVxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCkgcmVjdXJzaXZlRnVuY3Rpb24obm9kZS5yaWdodClcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICByZWN1cnNpdmVGdW5jdGlvbih0aGlzLnJvb3QpXG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBmdW5jdGlvbiByZWN1cnNpdmVGdW5jdGlvbihub2RlKSB7XG4gICAgLy8gICAgICAgICAgICAgbGV0IHJlY3Vyc2l2ZVZhbHVlID0gW25vZGUuZGF0YV07XG4gICAgLy8gICAgICAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0ID09PSBudWxsKSByZXR1cm4gW25vZGUuZGF0YV1cbiAgICAvLyAgICAgICAgICAgICBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdCkgcmVjdXJzaXZlVmFsdWUgPSByZWN1cnNpdmVWYWx1ZS5jb25jYXQocmVjdXJzaXZlRnVuY3Rpb24obm9kZS5sZWZ0KSlcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQpIHJlY3Vyc2l2ZVZhbHVlID0gcmVjdXJzaXZlVmFsdWUuY29uY2F0KHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUucmlnaHQpKVxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlVmFsdWU7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVjdXJzaXZlRnVuY3Rpb24odGhpcy5yb290KSlcblxuICAgIC8vICAgICAgICAgLy8gY2xlYW5lciB2ZXJzaW9uOyBiYXNlIGNhc2UgaXMgbm90IHN0YXRlZCwgYXMgZG8gbm90IG5lZWQgdG8gc3RhdGUgaWYgbnVsbFxuICAgIC8vICAgICAgICAgLy8gZnVuY3Rpb24gcmVjdXJzaXZlVHJhdmVyc2FsKG5vZGUpIHtcbiAgICAvLyAgICAgICAgIC8vIGxldCBhcnJheSA9IFtub2RlLmRhdGFdICAgICAgICAgICAgXG4gICAgLy8gICAgICAgICAvLyBpZiAobm9kZS5sZWZ0KSBhcnJheSA9IGFycmF5LmNvbmNhdChyZWN1cnNpdmVUcmF2ZXJzYWwobm9kZS5sZWZ0KSkgLy8gXCJjb25uZWN0aW5nXCIgYXJyYXlzXG4gICAgLy8gICAgICAgICAvLyBpZiAobm9kZS5yaWdodCkgYXJyYXkgPSBhcnJheS5jb25jYXQocmVjdXJzaXZlVHJhdmVyc2FsKG5vZGUucmlnaHQpKSAvLyBcImNvbm5lY3RpbmdcIiBhcnJheXNcbiAgICAvLyAgICAgICAgIC8vIHJldHVybiBhcnJheVxuICAgIC8vICAgICAgICAgLy8gfVxuICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2cocmVjdXJzaXZlVHJhdmVyc2FsKHRoaXMucm9vdCkpXG4gICAgLy8gICAgICAgICAvLyB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAvLyB0cmF2ZXJzZSB0aGUgbGVmdCBzdWJ0cmVlLCB0aGVuIHRoZSByb290LCB0aGVuIHRoZSByaWdodCBzdWJ0cmVlLlxuICAgIC8vIGluT3JkZXIoaGVscGVyRnVuY3Rpb24pIHtcbiAgICAvLyAgICAgaWYgKGhlbHBlckZ1bmN0aW9uKSB7XG4gICAgLy8gICAgICAgICBmdW5jdGlvbiByZWN1cnNpdmVGdW5jdGlvbihub2RlKSB7XG4gICAgLy8gICAgICAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0ID09PSBudWxsKSBoZWxwZXJGdW5jdGlvbihub2RlKVxuICAgIC8vICAgICAgICAgICAgIGVsc2Uge1xuICAgIC8vICAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0KSByZWN1cnNpdmVGdW5jdGlvbihub2RlLmxlZnQpXG4gICAgLy8gICAgICAgICAgICAgICAgIGhlbHBlckZ1bmN0aW9uKG5vZGUpXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0KSByZWN1cnNpdmVGdW5jdGlvbihub2RlLnJpZ2h0KVxuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIHJlY3Vyc2l2ZUZ1bmN0aW9uKHRoaXMucm9vdClcbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUpIHtcbiAgICAvLyAgICAgICAgICAgICBsZXQgcmVjdXJzaXZlVmFsdWUgPSBbXTtcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdCkgcmVjdXJzaXZlVmFsdWUgPSByZWN1cnNpdmVWYWx1ZS5jb25jYXQocmVjdXJzaXZlRnVuY3Rpb24obm9kZS5sZWZ0KSlcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVjdXJzaXZlVmFsdWUgPSByZWN1cnNpdmVWYWx1ZS5jb25jYXQoW25vZGUuZGF0YV0pXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChub2RlLnJpZ2h0KSByZWN1cnNpdmVWYWx1ZSA9IHJlY3Vyc2l2ZVZhbHVlLmNvbmNhdChyZWN1cnNpdmVGdW5jdGlvbihub2RlLnJpZ2h0KSlcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZVZhbHVlO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVjdXJzaXZlRnVuY3Rpb24odGhpcy5yb290KSlcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuXG5cbiAgICAvLyAvLyB0cmF2ZXJzZSB0aGUgbGVmdCBzdWJ0cmVlLCB0aGVuIHRoZSByaWdodCBzdWJ0cmVlLCB0aGVuIHRoZSByb290LlxuICAgIC8vIHBvc3RPcmRlcihoZWxwZXJGdW5jdGlvbikge1xuICAgIC8vICAgICBpZiAoaGVscGVyRnVuY3Rpb24pIHtcbiAgICAvLyAgICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUpIHtcbiAgICAvLyAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0ID09PSBudWxsICYmIG5vZGUucmlnaHQgPT09IG51bGwpIGhlbHBlckZ1bmN0aW9uKG5vZGUpXG4gICAgLy8gICAgICAgICAgICAgZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChub2RlLmxlZnQpIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUubGVmdClcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQpIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUucmlnaHQpXG4gICAgLy8gICAgICAgICAgICAgICAgIGhlbHBlckZ1bmN0aW9uKG5vZGUpXG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgcmVjdXJzaXZlRnVuY3Rpb24odGhpcy5yb290KVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlRnVuY3Rpb24obm9kZSkge1xuICAgIC8vICAgICAgICAgICAgIGxldCByZWN1cnNpdmVWYWx1ZSA9IFtdO1xuICAgIC8vICAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0KSByZWN1cnNpdmVWYWx1ZSA9IHJlY3Vyc2l2ZVZhbHVlLmNvbmNhdChyZWN1cnNpdmVGdW5jdGlvbihub2RlLmxlZnQpKVxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCkgcmVjdXJzaXZlVmFsdWUgPSByZWN1cnNpdmVWYWx1ZS5jb25jYXQocmVjdXJzaXZlRnVuY3Rpb24obm9kZS5yaWdodCkpXG4gICAgLy8gICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZVZhbHVlID0gcmVjdXJzaXZlVmFsdWUuY29uY2F0KFtub2RlLmRhdGFdKVxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlVmFsdWU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhyZWN1cnNpdmVGdW5jdGlvbih0aGlzLnJvb3QpKVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG5cbiAgICAvLyBoZWlnaHQ7IGZpbmQgbG9uZ2VzdCBsZW5ndGggYmV0d2VlbiB0aGlzIG5vZGUsIGFuZCBsZWFmIG5vZGUuIGhvdz8gZG8gaSBuZWVkIHRvIHVzZSBmaW5kP1xuICAgIC8vIGhlaWdodCh2YWx1ZSkge1xuICAgIC8vICAgICAvL2ZpcnN0LCBuZWVkIHRvIGZpbmQgdGhlIG5vZGVcbiAgICAvLyAgICAgLy8gbWF5IG5lZWQgdG8gZG8gc29tZXRoaW5nIGxpa2UsIGlzIGNvdW50ZXIgZ3JlYXRlciB0aGFuIHByZXZpb3VzIGNvdW50ZXI/IHRoZW4gcmVwbGFjZSBwcmV2aW91cyBjb3VudGVyXG4gICAgLy8gICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZVRyYXZlcnNhbChub2RlKSB7XG4gICAgLy8gICAgICAgICBsZXQgY291bnRlciA9IDE7XG4gICAgLy8gICAgICAgICBpZiAobm9kZS5sZWZ0KSBjb3VudGVyICs9IHJlY3Vyc2l2ZVRyYXZlcnNhbChub2RlLmxlZnQpO1xuICAgIC8vICAgICAgICAgcmV0dXJuIGNvdW50ZXI7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgY29uc29sZS5sb2coXG4gICAgLy8gICAgIHJlY3Vyc2l2ZVRyYXZlcnNhbChmaW5kKHZhbHVlKSlcbiAgICAvLyAgICAgKVxuICAgIC8vIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRUcmVlKGFycmF5KSB7XG4gICAgY29uc29sZS5sb2coYXJyYXkpXG4gICAgICAgIGxldCBzb3J0ZWRBcnJheSA9IG1lcmdlU29ydChhcnJheSlcbiAgICAgICAgLy8gbGV0IHJlbW92ZWREdXBsaWNhdGVzID0gWy4uLiBuZXcgU2V0KHNvcnRlZEFycmF5KV1cbiAgICAgICAgLy8gcmV0dXJuIHJlY3Vyc2l2ZUJ1aWxkVHJlZShyZW1vdmVkRHVwbGljYXRlcylcbn1cblxuZnVuY3Rpb24gcmVjdXJzaXZlQnVpbGRUcmVlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDsgLy8gd2hhdCBkbyBpIG5lZWQgdG8gcmV0dXJuPyBhcnJheT8gbm9kZT9cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtaWRkbGVJbmRleCA9IE1hdGguZmxvb3IoYXJyYXkubGVuZ3RoLzIpXG4gICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgTm9kZShhcnJheVttaWRkbGVJbmRleF0pXG5cbiAgICAgICAgcm9vdC5sZWZ0ID0gcmVjdXJzaXZlQnVpbGRUcmVlKGFycmF5LnNsaWNlKDAsIG1pZGRsZUluZGV4KSlcbiAgICAgICAgcm9vdC5yaWdodCA9IHJlY3Vyc2l2ZUJ1aWxkVHJlZShhcnJheS5zbGljZShtaWRkbGVJbmRleCArIDEpKVxuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydCh2YWx1ZSkge1xuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUZ1bmN0aW9uKG5vZGUsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IG5vZGUuZGF0YSAmJiBub2RlLmxlZnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIG5vZGUubGVmdCA9IG5ld05vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiBub2RlLmRhdGEgJiYgbm9kZS5yaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUodmFsdWUpO1xuICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ld05vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPCBub2RlLmRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVGdW5jdGlvbihub2RlLmxlZnQpXG4gICAgICAgICAgICAvLyBjcmVhdGUgbmV3IG5vZGUsIG1ha2UgaXQgdGhlIGNoaWxkIG9mIHRoZSBwcmV2aW91cyBub2RlLCBhbmQgdGhlIG5ldyByb290IG9mIHRoZSBuZXh0IG5vZGVzXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiBub2RlLmRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVGdW5jdGlvbihub2RlLnJpZ2h0KVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IG5vZGUuZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2YWx1ZSBhbHJlYWR5IGluIHRyZWUsIHRyeSBhbm90aGVyIHZhbHVlXCIpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgIH1cbiAgICByZWN1cnNpdmVGdW5jdGlvbigpXG59Il0sIm5hbWVzIjpbIm1lcmdlU29ydCIsImFycmF5IiwibGVuZ3RoIiwiaGFsZiIsIk1hdGgiLCJjZWlsIiwic29ydGVkTGVmdEhhbGYiLCJzbGljZSIsInNvcnRlZFJpZ2h0SGFsZiIsIm1lcmdlZEFycmF5IiwicHVzaCIsInNoaWZ0IiwidGVzdEFycmF5IiwiY29uc29sZSIsImxvZyIsIm5ld1RyZWUiXSwic291cmNlUm9vdCI6IiJ9